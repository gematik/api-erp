= Test drive interface v1.2.1 
software-development@gematik.de
:toc: left
:numbered:
:toclevels: 4
:source-highlighter: highlightjs
:keywords: openapi, rest, Test drive interface for e-Prescription FdV Module
:specDir: 
:snippetDir: 
:generator-template: v1 2019-12-20
:info-url: https://www.gematik.de
:app-name: Test drive interface for e-Prescription FdV Module

[abstract]
.Abstract
REST interface to automate the test of a e-Prescription FdV Module implementation.


// markup not found, no include::{specDir}intro.adoc[opts=optional]


== Access


* *APIKey* KeyParamName:     _apiKey_,     KeyInQuery: _false_, KeyInHeader: _true_


== Endpoints


[.AuditEvents]
=== AuditEvents


[.erpTestdriverApiV1AuditEventsGet]
==== erpTestdriverApiV1AuditEventsGet

`GET /erp/testdriver/api/v1/auditEvents`

Operation returns a list (max. 50 entries) of audit events, sorted in descending order by creation date

===== Description

UC: Protokolldaten anzeigen See https://github.com/gematik/api-erp/blob/master/docs/erp_versicherte.adoc#einsicht-in-das-zugriffsprotokoll


// markup not found, no include::{specDir}erp/testdriver/api/v1/auditEvents/GET/spec.adoc[opts=optional]



===== Parameters







===== Return Type

array[<<AuditEvent>>]


===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| A list (max. 50 entries) of audit events, sorted in descending order by creation date
| List[<<AuditEvent>>] 


| 403
| Forbidden - you are not allowed to do this
|  <<>>


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/auditEvents/GET/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/auditEvents/GET/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/auditEvents/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/auditEvents/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


[.Communication]
=== Communication


[.erpTestdriverApiV1CommunicationGet]
==== erpTestdriverApiV1CommunicationGet

`GET /erp/testdriver/api/v1/communication`

Operation returns a list (max. 50 entries) of communications for a patient, sorted in descending order by creation date

===== Description

UC: Nachrichten von Apotheke anzeigen https://github.com/gematik/api-erp/blob/master/docs/erp_communication.adoc#anwendungsfall-alle-nachrichten-vom-e-rezept-fachdienst-abrufen


// markup not found, no include::{specDir}erp/testdriver/api/v1/communication/GET/spec.adoc[opts=optional]



===== Parameters







===== Return Type

array[<<Communication>>]


===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| 
| List[<<Communication>>] 


| 403
| Forbidden - you are not allowed to do this
|  <<>>


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/communication/GET/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/communication/GET/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/communication/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/communication/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


[.erpTestdriverApiV1CommunicationIdDelete]
==== erpTestdriverApiV1CommunicationIdDelete

`DELETE /erp/testdriver/api/v1/communication/{id}`

Operation to deletes a communication by id

===== Description

UC: Nachrichten löschen https://github.com/gematik/api-erp/blob/master/docs/erp_communication.adoc#anwendungsfall-nachricht-als-apotheke-l%C3%B6schen


// markup not found, no include::{specDir}erp/testdriver/api/v1/communication/\{id\}/DELETE/spec.adoc[opts=optional]



===== Parameters

====== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
|  
| X
| null
| 

|===






===== Return Type



-

===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 204
| Operation was successful
|  <<>>


| 403
| Forbidden - you are not allowed to do this
|  <<>>


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/communication/\{id\}/DELETE/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/communication/\{id\}/DELETE/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/communication/{id}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/communication/\{id\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


[.DispensingInformation]
=== DispensingInformation


[.erpTestdriverApiV1MedicationdispenseGet]
==== erpTestdriverApiV1MedicationdispenseGet

`GET /erp/testdriver/api/v1/medicationdispense`

Operation returns a list (max. 50 entries) of medication dispense information's, sorted in descending order by creation date

===== Description

UC: Abgabeinformationen anzeigen See https://github.com/gematik/api-erp/blob/master/docs/erp_versicherte.adoc#abgabeinformationen-abrufen


// markup not found, no include::{specDir}erp/testdriver/api/v1/medicationdispense/GET/spec.adoc[opts=optional]



===== Parameters





====== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| whenhandedover
|  
| -
| null
| 

|===


===== Return Type

array[<<MedicationDispense>>]


===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| A list (max. 50 entries) of medication dispenses, sorted in descending order by creation date
| List[<<MedicationDispense>>] 


| 403
| Forbidden - you are not allowed to do this
|  <<>>


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/medicationdispense/GET/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/medicationdispense/GET/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/medicationdispense/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/medicationdispense/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


[.EPrescription]
=== EPrescription


[.erpTestdriverApiV1PrescriptionGet]
==== erpTestdriverApiV1PrescriptionGet

`GET /erp/testdriver/api/v1/prescription`

Operation to retrieve a list (max. 50 entries) of e-prescriptions, sorted in descending order by creation date

===== Description

UC: E-Rezepte empfangen See https://github.com/gematik/api-erp/blob/master/docs/erp_versicherte.adoc#alle-e-rezepte-ansehen


// markup not found, no include::{specDir}erp/testdriver/api/v1/prescription/GET/spec.adoc[opts=optional]



===== Parameters







===== Return Type

array[<<Prescription>>]


===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| A list (max. 50 entries) of e-prescriptions, sorted in descending order by creation date
| List[<<Prescription>>] 


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>


| 403
| Forbidden - you are not allowed to do this
|  <<>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/prescription/GET/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/prescription/GET/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/prescription/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/prescription/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


[.erpTestdriverApiV1PrescriptionIdDelete]
==== erpTestdriverApiV1PrescriptionIdDelete

`DELETE /erp/testdriver/api/v1/prescription/{id}`

Operation to deletes an e-prescription

===== Description

UC: E-Rezepte am E-Rezept Fachdienst löschen See https://github.com/gematik/api-erp/blob/master/docs/erp_versicherte.adoc#ein-e-rezept-l%C3%B6schen


// markup not found, no include::{specDir}erp/testdriver/api/v1/prescription/\{id\}/DELETE/spec.adoc[opts=optional]



===== Parameters

====== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
|  
| X
| null
| 

|===






===== Return Type



-

===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 204
| Operation was successful
|  <<>>


| 403
| Forbidden - you are not allowed to do this
|  <<>>


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/prescription/\{id\}/DELETE/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/prescription/\{id\}/DELETE/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/prescription/{id}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/prescription/\{id\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


[.erpTestdriverApiV1PrescriptionIdGet]
==== erpTestdriverApiV1PrescriptionIdGet

`GET /erp/testdriver/api/v1/prescription/{id}`

Operation to download a single e-prescription

===== Description

UC: E-Rezepte empfangen See https://github.com/gematik/api-erp/blob/master/docs/erp_versicherte.adoc#ein-einzelnes-e-rezept-abrufen-und-in-der-apotheke-einl%C3%B6sen


// markup not found, no include::{specDir}erp/testdriver/api/v1/prescription/\{id\}/GET/spec.adoc[opts=optional]



===== Parameters

====== Path Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| id
|  
| X
| null
| 

|===






===== Return Type

<<Prescription>>


===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| See https://github.com/gematik/api-erp/blob/master/docs/erp_versicherte.adoc#alle-e-prescriptione-ansehen
|  <<Prescription>>


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>


| 403
| Forbidden - you are not allowed to do this
|  <<>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/prescription/\{id\}/GET/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/prescription/\{id\}/GET/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/prescription/{id}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/prescription/\{id\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


[.Info]
=== Info


[.erpTestdriverApiV1InfoGet]
==== erpTestdriverApiV1InfoGet

`GET /erp/testdriver/api/v1/info`

General information about this test driver interface and the test FdV

===== Description




// markup not found, no include::{specDir}erp/testdriver/api/v1/info/GET/spec.adoc[opts=optional]



===== Parameters







===== Return Type

<<Info>>


===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| Test driver interface is ready for use
|  <<Info>>


| 400
| Error processing the request with the test driver
|  <<inline_object>>


| 403
| Forbidden - you are not allowed to do this
|  <<>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/info/GET/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/info/GET/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/info/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/info/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


[.erpTestdriverApiV1StartPut]
==== erpTestdriverApiV1StartPut

`PUT /erp/testdriver/api/v1/start`

Start die Test-FdV

===== Description




// markup not found, no include::{specDir}erp/testdriver/api/v1/start/PUT/spec.adoc[opts=optional]



===== Parameters







===== Return Type



-

===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| Operation was successful
|  <<>>


| 400
| Error processing the request with the test driver
|  <<inline_object>>


| 403
| Forbidden - you are not allowed to do this
|  <<>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/start/PUT/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/start/PUT/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/start/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/start/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


[.erpTestdriverApiV1StopPut]
==== erpTestdriverApiV1StopPut

`PUT /erp/testdriver/api/v1/stop`

Stop die Test-FdV

===== Description




// markup not found, no include::{specDir}erp/testdriver/api/v1/stop/PUT/spec.adoc[opts=optional]



===== Parameters







===== Return Type



-

===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| Operation was successful
|  <<>>


| 400
| Error processing the request with the test driver
|  <<inline_object>>


| 403
| Forbidden - you are not allowed to do this
|  <<>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/stop/PUT/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/stop/PUT/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/stop/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/stop/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


[.Login]
=== Login


[.erpTestdriverApiV1LoginPut]
==== erpTestdriverApiV1LoginPut

`PUT /erp/testdriver/api/v1/login`

Operation to login with an kvnr

===== Description




// markup not found, no include::{specDir}erp/testdriver/api/v1/login/PUT/spec.adoc[opts=optional]



===== Parameters


====== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| body
|  <<string>>
| X
| 
| /^([A-Z])(\d{8})(\d)$/

|===





===== Return Type

<<LoginSuccess>>


===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| 
|  <<LoginSuccess>>


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>


| 403
| Forbidden - you are not allowed to do this
|  <<>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/login/PUT/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/login/PUT/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/login/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/login/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


[.Pharmacy]
=== Pharmacy


[.erpTestdriverApiV1Pharmacy2dCodePost]
==== erpTestdriverApiV1Pharmacy2dCodePost

`POST /erp/testdriver/api/v1/pharmacy/2dCode`



===== Description

Operation generates e-prescription token as 2D code


// markup not found, no include::{specDir}erp/testdriver/api/v1/pharmacy/2dCode/POST/spec.adoc[opts=optional]



===== Parameters


====== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| body
|  <<string>>
| X
| 
| 

|===





===== Return Type


<<byte[]>>


===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| Image (PNG) encoded as base64 string
|  <<byte[]>>


| 403
| Forbidden - you are not allowed to do this
|  <<>>


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/pharmacy/2dCode/POST/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/pharmacy/2dCode/POST/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/pharmacy/2dCode/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/pharmacy/2dCode/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


[.erpTestdriverApiV1PharmacyAssignmentPost]
==== erpTestdriverApiV1PharmacyAssignmentPost

`POST /erp/testdriver/api/v1/pharmacy/assignment`



===== Description

Operation is intended to assign an e-prescription to a pharmacy


// markup not found, no include::{specDir}erp/testdriver/api/v1/pharmacy/assignment/POST/spec.adoc[opts=optional]



===== Parameters


====== Body Parameter

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| ErpTestdriverApiV1PharmacyAssignmentPostRequest
|  <<ErpTestdriverApiV1PharmacyAssignmentPostRequest>>
| X
| 
| 

|===





===== Return Type

<<Communication>>


===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| 
|  <<Communication>>


| 403
| Forbidden - you are not allowed to do this
|  <<>>


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/pharmacy/assignment/POST/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/pharmacy/assignment/POST/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/pharmacy/assignment/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/pharmacy/assignment/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


[.erpTestdriverApiV1PharmacySearchGet]
==== erpTestdriverApiV1PharmacySearchGet

`GET /erp/testdriver/api/v1/pharmacy/search`



===== Description

UC: Apotheke suchen See https://github.com/gematik/api-erp/blob/master/docs/erp_versicherte.adoc#eine-apotheke-aus-dem-apotheken-verzeichnis-ausw%C3%A4hlen


// markup not found, no include::{specDir}erp/testdriver/api/v1/pharmacy/search/GET/spec.adoc[opts=optional]



===== Parameters





====== Query Parameters

[cols="2,3,1,1,1"]
|===
|Name| Description| Required| Default| Pattern

| near
|  
| -
| null
| 

| address-city
|  
| -
| null
| 

| name
|  
| -
| null
| 

|===


===== Return Type

array[<<Pharmacy>>]


===== Content Type

* application/json

===== Responses

.HTTP Response Codes
[cols="2,3,1"]
|===
| Code | Message | Datatype


| 200
| A list (max. 50 entries) of pharmacies, sorted in order by name
| List[<<Pharmacy>>] 


| 403
| Forbidden - you are not allowed to do this
|  <<>>


| 400
| The error is used to describe an OperationOutcome or a technical error, e.g. VAU encryption error
|  <<inline_object_1>>

|===

===== Samples


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/pharmacy/search/GET/http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}erp/testdriver/api/v1/pharmacy/search/GET/http-response.adoc[opts=optional]



// file not found, no * wiremock data link :erp/testdriver/api/v1/pharmacy/search/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}erp/testdriver/api/v1/pharmacy/search/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


[#models]
== Models


[#Address]
=== _Address_ 




[.fields-Address]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| city
| 
| 
|   String  
| 
|     

| street
| 
| 
|   String  
| 
|     

| streetNr
| 
| 
|   String  
| 
|     

| zipcode
| 
| 
|   BigDecimal  
| 
|     

|===



[#AuditEvent]
=== _AuditEvent_ 

Reduced modeled by https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_AuditEvent


[.fields-AuditEvent]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| text
| X
| 
|   String  
| 
|     

| recorded
| X
| 
|   Date  
| 
| date-time    

| prescriptionId
| X
| 
|   String  
| See https://simplifier.net/e-prescription-workflow/gem_erp_pr_prescriptionid
|     

| action
| X
| 
|  <<String>>  
| 
|  _Enum:_ C, R, U, D, E,  

| who
| X
| 
| <<String>>    
| Agent that triggered this event
|     

|===



[#Communication]
=== _Communication_ 

See https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_Communication_InfoReq See https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_Communication_DispReq See https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_Communication_Reply


[.fields-Communication]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| id
| 
| 
|   UUID  
| 
| uuid    

| type
| X
| 
|  <<String>>  
| 
|  _Enum:_ DispReq, InfoReq, Reply, Representative,  

| reference
| 
| 
|   String  
| See https://simplifier.net/e-prescription-workflow/gem_erp_pr_prescriptionid
|     

| sender
| X
| 
| <<Communication_sender>>    
| 
|     

| recipient
| X
| 
| <<Communication_sender>>    
| 
|     

| sent
| X
| 
|   Date  
| 
| date-time    

| supplyOptionsType
| 
| 
|  <<SupplyOptionsType>>  
| 
|    delivery, shipment, onPremise,  

|===



[#CommunicationSender]
=== _CommunicationSender_ 




[.fields-CommunicationSender]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

|===



[#ErpTestdriverApiV1PharmacyAssignmentPostRequest]
=== _ErpTestdriverApiV1PharmacyAssignmentPostRequest_ 




[.fields-ErpTestdriverApiV1PharmacyAssignmentPostRequest]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| prescriptionId
| X
| 
|   String  
| See https://simplifier.net/e-prescription-workflow/gem_erp_pr_prescriptionid
|     

| telematikId
| X
| 
|   String  
| https://gematik.de/fhir/sid/telematik-id
|     

| supplyOptionsType
| 
| 
|  <<SupplyOptionsType>>  
| 
|    delivery, shipment, onPremise,  

|===



[#Error]
=== _Error_ 




[.fields-Error]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| statusCode
| X
| 
|   BigDecimal  
| Http StatusCode
|     

| details
| X
| 
|   String  
| Short Description of the error
|     

|===



[#Info]
=== _Info_ 




[.fields-Info]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| title
| X
| 
|   String  
| Title of the application
|     

| testDriverVersion
| X
| 
|   String  
| Version of the implemented test driver version
|     

| startTime
| X
| 
|   Date  
| 
| date-time    

| testFdV
| X
| 
| <<TestFdV>>    
| 
|     

| testEnvironment
| X
| 
| <<TestEnvironmentInfo>>    
| 
|     

|===



[#InlineObject]
=== _InlineObject_ 




[.fields-InlineObject]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| detail
| 
| 
|   String  
| 
|     

|===



[#InlineObject1]
=== _InlineObject1_ 




[.fields-InlineObject1]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| statusCode
| X
| 
|   BigDecimal  
| Http StatusCode
|     

| details
| X
| 
|   String  
| Short Description of the error
|     

| code
| X
| 
|  <<String>>  
| http status error type
|  _Enum:_ invalid, unknown, forbidden, not_found, not_supported, conflict, processing, value, transient,  

| errorCode
| X
| 
|   String  
| 
|     

| diagnostics
| 
| 
|   String  
| additional details
|     

|===



[#LoginSuccess]
=== _LoginSuccess_ 




[.fields-LoginSuccess]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| accessToken
| X
| 
|   String  
| IDP Token
| bearer    

|===



[#Medication]
=== _Medication_ 




[.fields-Medication]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| type
| X
| 
|  <<String>>  
| 
|  _Enum:_ freitext, pzn, rezeptur, wirkstoff,  

| code
| X
| 
|   String  
| Contains value for PZN, recipe, ingredient or a free text of a medication
|     

| isVaccine
| X
| 
|   Boolean  
| 
|     

|===



[#MedicationDispense]
=== _MedicationDispense_ 

Reduced modeled by https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_MedicationDispense


[.fields-MedicationDispense]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| prescriptionId
| X
| 
|   String  
| See https://simplifier.net/e-prescription-workflow/gem_erp_pr_prescriptionid
|     

| medication
| X
| 
| <<Medication>>    
| 
|     

| pharmacist
| X
| 
|   String  
| https://gematik.de/fhir/sid/telematik-id
|     

| whenhandedover
| X
| 
|   date  
| 
| date    

|===



[#OperationOutcome]
=== _OperationOutcome_ 




[.fields-OperationOutcome]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| statusCode
| X
| 
|   BigDecimal  
| Http StatusCode
|     

| details
| X
| 
|   String  
| Short Description of the error
|     

| code
| X
| 
|  <<String>>  
| http status error type
|  _Enum:_ invalid, unknown, forbidden, not_found, not_supported, conflict, processing, value, transient,  

| errorCode
| X
| 
|   String  
| 
|     

| diagnostics
| 
| 
|   String  
| additional details
|     

|===



[#Patient]
=== _Patient_ 




[.fields-Patient]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| name
| X
| 
|   String  
| 
|     

| kvnr
| X
| 
|   String  
| 
|     

| insuranceType
| X
| 
|  <<String>>  
| 
|  _Enum:_ GKV, PKV,  

|===



[#Pharmacy]
=== _Pharmacy_ 




[.fields-Pharmacy]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| name
| X
| 
|   String  
| 
|     

| address
| 
| 
| <<Address>>    
| 
|     

| position
| 
| 
| <<Pharmacy_position>>    
| 
|     

| telematikId
| X
| 
|   String  
| https://gematik.de/fhir/sid/telematik-id
|     

|===



[#PharmacyPosition]
=== _PharmacyPosition_ 




[.fields-PharmacyPosition]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| latitude
| X
| 
|   BigDecimal  
| 
|     

| longitude
| X
| 
|   BigDecimal  
| 
|     

|===



[#Practitioner]
=== _Practitioner_ 




[.fields-Practitioner]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| name
| X
| 
|   String  
| 
|     

| anr
| X
| 
|   String  
| 
|     

| anrType
| X
| 
|  <<String>>  
| 
|  _Enum:_ LANR, ZANR,  

| qualificationType
| X
| 
|   String  
| 
|     

|===



[#Prescription]
=== _Prescription_ 

See https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_PR_Task


[.fields-Prescription]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| prescriptionId
| X
| 
|   String  
| See https://simplifier.net/e-prescription-workflow/gem_erp_pr_prescriptionid
|     

| accessCode
| 
| 
|   String  
| See https://gematik.de/fhir/erp/NamingSystem/GEM_ERP_NS_AccessCode
|     

| workFlow
| X
| 
|  <<WorkFlow>>  
| 
|    160, 169, 200, 209,  

| acceptDate
| X
| 
|   date  
| See https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_EX_AcceptDate
| date    

| expiryDate
| X
| 
|   date  
| See https://simplifier.net/e-prescription-workflow/gem_erp_ex_expirydate
| date    

| authoredOn
| X
| 
|   Date  
| 
| date-time    

| lastMedicationDispense
| 
| 
|   Date  
| 
| date-time    

| status
| X
| 
|  <<String>>  
| 
|  _Enum:_ ready, in-progress, cancelled, completed,  

| patient
| 
| 
| <<Patient>>    
| 
|     

| practitioner
| 
| 
| <<Practitioner>>    
| 
|     

| medication
| 
| 
| <<Medication>>    
| 
|     

|===



[#SupplyOptionsType]
=== _SupplyOptionsType_ 






[.fields-SupplyOptionsType]
[cols="1"]
|===
| Enum Values

| delivery
| shipment
| onPremise

|===


[#System]
=== _System_ 






[.fields-System]
[cols="1"]
|===
| Enum Values

| ERP-FD
| Exporter

|===


[#TestEnvironmentInfo]
=== _TestEnvironmentInfo_ 

Information about the test environment that is used


[.fields-TestEnvironmentInfo]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| name
| X
| 
|  <<String>>  
| 
|  _Enum:_ TU, RU, RU-DEV,  

| serviceUrl
| X
| 
|  <<String>>  
| Service Endpoint
|  _Enum:_ https://erp-test.app.ti-dienste.de, https://erp-ref.app.ti-dienste.de, https://erp-dev.app.ti-dienste.de,  

|===



[#TestFdV]
=== _TestFdV_ 




[.fields-TestFdV]
[cols="2,1,1,2,4,1"]
|===
| Field Name| Required| Nullable | Type| Description | Format

| platform
| X
| 
|  <<String>>  
| Mobile Device Platform
|  _Enum:_ Android, iOS, Huawei,  

| platformVersion
| X
| 
|   String  
| 
|     

| isEmulated
| X
| 
|   Boolean  
| 
|     

| status
| X
| 
|  <<String>>  
| Current status of the test driver
|  _Enum:_ running, starting, stopped,  

| startTime
| X
| 
|   Date  
| 
| date-time    

|===



[#WorkFlow]
=== _WorkFlow_ 

See https://gematik.de/fhir/erp/StructureDefinition/GEM_ERP_EX_PrescriptionType




[.fields-WorkFlow]
[cols="1"]
|===
| Enum Values

| 160
| 169
| 200
| 209

|===


